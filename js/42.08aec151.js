(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"./src/models/organizations.js":function(e,t,s){"use strict";s.r(t);var a=s("./node_modules/@babel/runtime/regenerator/index.js"),n=s.n(a),r=s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),o=s.n(r),u=s("./src/utils/request.js");t.default={state:{orgs:[],orgsSelect:[]},reducers:{updateState:function(e,t){return Object.assign({},e,t)}},effects:{getOrgs:function(){var e=this;return o()(n.a.mark(function t(){var s,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)("/api/user/orgs");case 2:s=t.sent,a=s.rows.map(function(e){return{value:e.name,label:e.name}}),e.updateState({orgs:s.rows,orgsSelect:a});case 5:case"end":return t.stop()}},t,this)}))()}}}},"./src/utils/request.js":function(e,t,s){"use strict";var a=s("./node_modules/axios/index.js"),n=s.n(a),r=s("./node_modules/uiw/lib/index.js"),o=s("./src/history.js");s.d(t,"a",function(){return i});var u={200:"服务器成功返回请求的数据。",201:"新建或修改数据成功。",202:"一个请求已经进入后台排队（异步任务）。",204:"删除数据成功。",400:"发出的请求有错误，服务器没有进行新建或修改数据的操作。",401:"用户没有权限（令牌、用户名、密码错误）。",403:"用户得到授权，但是访问是被禁止的。",404:"发出的请求针对的是不存在的记录，服务器没有进行操作。",406:"请求的格式不可得。",410:"请求的资源被永久删除，且不会再得到的。",422:"当创建一个对象时，发生一个验证错误。",500:"服务器发生错误，请检查服务器。",502:"网关错误。",503:"服务不可用，服务器暂时过载或维护。",504:"网关超时。"};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.method||"GET",a={url:e,method:s,data:t.body,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"}};return t.headers&&(a.headers=Object.assign({},a.headers,t.headers)),/(GET|DELETE)/.test(s)&&(a.url=function(e,t){var s=e,a=[];return Object.keys(t).forEach(function(e){return a.push("".concat(e,"=").concat(t[e]))}),0===Object.keys(t).length?e:(!1===/\?/.test(s)?s="".concat(s,"?").concat(a.join("&")):s+="&".concat(a.join("&")),s)}(e,Object.assign({},t.body)),delete a.body),n.a.request(a).then(function(e){return e.data}).catch(function(e){var t=e.response,s="string"==typeof t.data?t.data:"string"==typeof t.data.message?t.data.message:void 0;if(t.status>=200&&t.status<300)return t;if(401===t.status&&"/login"!==location.pathname)return r.Message.error(t.data?s:"请求失败！",{duration:4}),o.a.push("/login"),t.data;if(403!==t.status)if(t.status<=504&&t.status>=500)o.a.push("/exception/500");else if(t.status>=404&&t.status<422)o.a.push("/exception/404");else{var a=s||u[t.status]||t.statusText;if(!a){var n=new Error(a);if(n.name=t.status,n.response=t,t.data)return t.data;throw n}r.Notification.error({message:"错误提示：",description:a})}else o.a.push("/exception/403")})}}}]);