(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");e.exports=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},"./src/models/repo.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),a=n.n(r),o=n("./node_modules/@babel/runtime/regenerator/index.js"),s=n.n(o),c=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),i=n.n(c),u=n("./src/utils/request.js"),p=n("./src/history.js");t.default={state:{detail:{},readmeContent:"",reposTree:{},repos:{page:1,pages:2,count:0,rows:[]}},reducers:{updateState:function(e,t){return Object.assign({},e,t)}},effects:{getRepoDetail:function(e){var t=this;return i()(s.a.mark(function n(){var r,a,o;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.a)("/api/repos/".concat(e.owner,"/").concat(e.repo));case 2:return r=n.sent,n.next=5,Object(u.a)("/api/repos/".concat(r.id,"/tree"),{body:e});case 5:(a=n.sent).tree=a.tree.map(function(t){var n="";return n=e.path?"master/".concat(e.path,"/").concat(t.name):"master/".concat(t.name),"commit"===t.type&&(n=e.path?"".concat(t.id,"/").concat(e.path,"/").concat(t.name):"".concat(t.id,"/").concat(t.name)),"blob"!==t.type&&"tree"!==t.type||(n="".concat(t.type,"/").concat(n)),{icon:t.type,content:{name:t.name,id:t.id,type:t.type,path:"/".concat(e.owner,"/").concat(e.repo,"/").concat(n)},message:a.summary,age:""}}).sort(function(e){return"commit"===e.icon||"tree"===e.icon?0:1}),o={detail:r,reposTree:a},a.content&&(o.readmeContent=a.content),t.updateState(o);case 10:case"end":return n.stop()}},n,this)}))()},getRepoDetailReadme:function(e){var t=this;return i()(s.a.mark(function n(){var r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.a)("/api/repos/".concat(e.owner,"/").concat(e.repo,"/readme"));case 2:(r=n.sent)&&r.content&&t.updateState({readmeContent:r.content});case 4:case"end":return n.stop()}},n,this)}))()},createRepo:function(e){return i()(s.a.mark(function t(){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.owner,t.next=3,Object(u.a)("/api/user/repos",{method:"POST",body:e});case 3:r=t.sent,p.a.push("".concat(n,"/").concat(r.name));case 5:case"end":return t.stop()}},t,this)}))()},getRepos:function(e){var t=this;return i()(s.a.mark(function n(){var r,o,c;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.owner,o=a()(e,["owner"]),n.next=3,Object(u.a)("/api/users/".concat(r,"/repos"),{body:o});case 3:c=n.sent,t.updateState({repos:c});case 5:case"end":return n.stop()}},n,this)}))()}}}},"./src/utils/request.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/index.js"),a=n.n(r),o=n("./node_modules/uiw/lib/index.js"),s=n("./src/history.js");n.d(t,"a",function(){return i});var c={200:"服务器成功返回请求的数据。",201:"新建或修改数据成功。",202:"一个请求已经进入后台排队（异步任务）。",204:"删除数据成功。",400:"发出的请求有错误，服务器没有进行新建或修改数据的操作。",401:"用户没有权限（令牌、用户名、密码错误）。",403:"用户得到授权，但是访问是被禁止的。",404:"发出的请求针对的是不存在的记录，服务器没有进行操作。",406:"请求的格式不可得。",410:"请求的资源被永久删除，且不会再得到的。",422:"当创建一个对象时，发生一个验证错误。",500:"服务器发生错误，请检查服务器。",502:"网关错误。",503:"服务不可用，服务器暂时过载或维护。",504:"网关超时。"};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method||"GET",r={url:e,method:n,data:t.body,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"}};return t.headers&&(r.headers=Object.assign({},r.headers,t.headers)),/(GET|DELETE)/.test(n)&&(r.url=function(e,t){var n=e,r=[];return Object.keys(t).forEach(function(e){return r.push("".concat(e,"=").concat(t[e]))}),0===Object.keys(t).length?e:(!1===/\?/.test(n)?n="".concat(n,"?").concat(r.join("&")):n+="&".concat(r.join("&")),n)}(e,Object.assign({},t.body)),delete r.body),a.a.request(r).then(function(e){return e.data}).catch(function(e){var t=e.response,n="string"==typeof t.data?t.data:"string"==typeof t.data.message?t.data.message:void 0;if(t.status>=200&&t.status<300)return t;if(401===t.status&&"/login"!==location.pathname)return o.Message.error(t.data?n:"请求失败！",{duration:4}),s.a.push("/login"),t.data;if(403!==t.status)if(t.status<=504&&t.status>=500)s.a.push("/exception/500");else if(t.status>=404&&t.status<422)s.a.push("/exception/404");else{var r=n||c[t.status]||t.statusText;if(!r){var a=new Error(r);if(a.name=t.status,a.response=t,t.data)return t.data;throw a}o.Notification.error({message:"错误提示：",description:r})}else s.a.push("/exception/403")})}}}]);